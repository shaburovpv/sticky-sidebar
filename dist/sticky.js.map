{"version":3,"file":"sticky.js","sources":["../node_modules/debounce/index.js","sticky.js"],"sourcesContent":["/**\n * Returns a function, that, as long as it continues to be invoked, will not\n * be triggered. The function will be called after it stops being called for\n * N milliseconds. If `immediate` is passed, trigger the function on the\n * leading edge, instead of the trailing. The function also has a property 'clear' \n * that is a function which will clear the timer to prevent previously scheduled executions. \n *\n * @source underscore.js\n * @see http://unscriptable.com/2009/03/20/debouncing-javascript-methods/\n * @param {Function} function to wrap\n * @param {Number} timeout in ms (`100`)\n * @param {Boolean} whether to execute at the beginning (`false`)\n * @api public\n */\nfunction debounce(func, wait, immediate){\n  var timeout, args, context, timestamp, result;\n  if (null == wait) wait = 100;\n\n  function later() {\n    var last = Date.now() - timestamp;\n\n    if (last < wait && last >= 0) {\n      timeout = setTimeout(later, wait - last);\n    } else {\n      timeout = null;\n      if (!immediate) {\n        result = func.apply(context, args);\n        context = args = null;\n      }\n    }\n  };\n\n  var debounced = function(){\n    context = this;\n    args = arguments;\n    timestamp = Date.now();\n    var callNow = immediate && !timeout;\n    if (!timeout) timeout = setTimeout(later, wait);\n    if (callNow) {\n      result = func.apply(context, args);\n      context = args = null;\n    }\n\n    return result;\n  };\n\n  debounced.clear = function() {\n    if (timeout) {\n      clearTimeout(timeout);\n      timeout = null;\n    }\n  };\n  \n  debounced.flush = function() {\n    if (timeout) {\n      result = func.apply(context, args);\n      context = args = null;\n      \n      clearTimeout(timeout);\n      timeout = null;\n    }\n  };\n\n  return debounced;\n};\n\n// Adds compatibility for ES modules\ndebounce.debounce = debounce;\n\nmodule.exports = debounce;\n","import { debounce } from 'debounce';\n\n/**\n * Sticky Sidebar JavaScript Plugin.\n * @version 3.3.4\n * @author Ahmed Bouhuolia <a.bouhuolia@gmail.com>\n * @license The MIT License (MIT)\n */\nconst StickySidebar = (() => {\n\n  // ---------------------------------\n  // # Define Constants\n  // ---------------------------------\n  //\n  const EVENT_KEY = '.stickySidebar';\n  const VERSION = '3.3.4';\n\n  const DEFAULTS = {\n    /**\n     * Additional top spacing of the element when it becomes sticky.\n     * @type {Number|Function}\n     */\n    topSpacing: 0,\n\n    /**\n     * Additional bottom spacing of the element when it becomes sticky.\n     * @type {Number|Function}\n     */\n    bottomSpacing: 0,\n\n    /**\n     * Container sidebar selector to know what the beginning and end of sticky element.\n     * @type {String|HTMLElement|false}\n     */\n    container: false,\n\n    /**\n     * Inner wrapper selector.\n     * @type {String}\n     */\n    innerWrapper: '.inner-wrapper-sticky',\n\n    /**\n     * The name of CSS class to apply to elements when they have become stuck.\n     * @type {String|false}\n     */\n    stickyClass: 'is-affixed',\n\n    /**\n     * Detect when sidebar and its container change height so re-calculate their dimensions.\n     * @type {Boolean}\n     */\n    resizeSensor: true,\n\n    /**\n     * The sidebar returns to its normal position if its width below this value.\n     * @type {Number}\n     */\n    minWidth: 0,\n  };\n\n  // ---------------------------------\n  // # Class Definition\n  // ---------------------------------\n  //\n  /**\n   * Sticky Sidebar Class.\n   * @public\n   */\n  class StickySidebar {\n\n    /**\n     * Sticky Sidebar Constructor.\n     * @constructor\n     * @param {HTMLElement|String} sidebar - The sidebar element or sidebar selector.\n     * @param {Object} options - The options of sticky sidebar.\n     */\n    constructor(sidebar, options = {}) {\n      this.options = StickySidebar.extend(DEFAULTS, options);\n\n      // Sidebar element query if there's no one, throw error.\n      this.sidebar = ('string' === typeof sidebar) ? document.querySelector(sidebar) : sidebar;\n      if ('undefined' === typeof this.sidebar) {\n        throw new Error('There is no specific sidebar element.');\n      }\n\n      this.sidebarInner = false;\n      this.container = this.sidebar.parentElement;\n\n      // Current Affix Type of sidebar element.\n      this.affixedType = 'STATIC';\n      this.direction = 'down';\n      this.support = {\n        transform: false,\n        transform3d: false,\n      };\n\n      this._initialized = false;\n      this._reStyle = false;\n      this._breakpoint = false;\n\n      // Dimensions of sidebar, container and screen viewport.\n      this.dimensions = {\n        translateY: 0,\n        maxTranslateY: 0,\n        topSpacing: 0,\n        lastTopSpacing: 0,\n        bottomSpacing: 0,\n        lastBottomSpacing: 0,\n        sidebarTop: 0,\n        sidebarHeight: 0,\n        sidebarWidth: 0,\n        containerTop: 0,\n        containerHeight: 0,\n        viewportHeight: 0,\n        viewportTop: 0,\n        lastViewportTop: 0,\n      };\n\n      // Bind event handlers for referencability.\n      // ['handleEvent'].forEach( (method) => {\n      //   this[method] = this[method].bind(this);\n      // });\n      this.handleEvent = this.handleEvent.bind(this);\n      this.handleEventDebounce = debounce(this.handleEvent, 100);\n\n      if (StickySidebar.supportResizeObserver()) {\n        this.resizeObserver = new ResizeObserver(() => {\n          this.handleEventDebounce();\n        });\n      }\n\n      // Initialize sticky sidebar for first time.\n      this.initialize();\n    }\n\n    /**\n     * Initializes the sticky sidebar by adding inner wrapper, define its container,\n     * min-width breakpoint, calculating dimensions, adding helper classes and inline style.\n     * @private\n     */\n    initialize() {\n      this._setSupportFeatures();\n\n      // Get sticky sidebar inner wrapper, if not found, will create one.\n      if (this.options.innerWrapper) {\n        if (typeof this.options.innerWrapper === 'string') {\n          this.sidebarInner = this.sidebar.querySelector(this.options.innerWrapper);\n\n          if (null === this.sidebarInner) this.sidebarInner = false;\n        } else {\n          this.sidebarInner = this.options.innerWrapper;\n        }\n      }\n\n\n      if (!this.sidebarInner) {\n        let wrapper = document.createElement('div');\n        wrapper.setAttribute('class', 'inner-wrapper-sticky');\n        this.sidebar.appendChild(wrapper);\n\n        while (this.sidebar.firstChild !== wrapper)\n          wrapper.appendChild(this.sidebar.firstChild);\n\n        this.sidebarInner = wrapper;\n      }\n\n      // Container wrapper of the sidebar.\n      if (this.options.container) {\n        if (typeof this.options.container === 'string') {\n          let containers = document.querySelectorAll(this.options.container);\n          containers = Array.prototype.slice.call(containers);\n\n          containers.forEach((container) => {\n            if (!container.contains(this.sidebar)) return;\n            this.container = container;\n          });\n\n          if (!containers.length)\n            throw new Error('The container does not contains on the sidebar.');\n        } else {\n          this.container = this.options.container;\n        }\n      }\n\n      // If top/bottom spacing is not function parse value to integer.\n      if ('function' !== typeof this.options.topSpacing) {\n        this.options.topSpacing = parseInt(this.options.topSpacing) || 0;\n      }\n\n      if ('function' !== typeof this.options.bottomSpacing) {\n        this.options.bottomSpacing = parseInt(this.options.bottomSpacing) || 0;\n      }\n\n      // Breakdown sticky sidebar if screen width below `options.minWidth`.\n      this._widthBreakpoint();\n\n      // Calculate dimensions of sidebar, container and viewport.\n      this.calcDimensions();\n\n      // Affix sidebar in proper position.\n      this.stickyPosition();\n\n\n      // Bind all events.\n      this.bindEvents();\n\n      // Inform other properties the sticky sidebar is initialized.\n      this._initialized = true;\n      this._enabled = true;\n    }\n\n    /**\n     * Bind all events of sticky sidebar plugin.\n     * @protected\n     */\n    bindEvents() {\n      if (this.eventBinded) {\n        return;\n      }\n      this.eventBinded = true;\n\n      window.addEventListener('resize', this.handleEventDebounce, {passive: true, capture: false});\n      this.addScrollEvent();\n\n      this.sidebar.addEventListener('update' + EVENT_KEY, this.handleEvent);\n\n      if (StickySidebar.supportResizeObserver()) {\n        this.resizeObserver.observe(this.sidebarInner);\n        this.resizeObserver.observe(this.container);\n      } else {\n        if (this.options.resizeSensor && 'undefined' !== typeof ResizeSensor) {\n          new ResizeSensor(this.sidebarInner, this.handleEventDebounce);\n          new ResizeSensor(this.container, this.handleEventDebounce);\n        }\n      }\n    }\n\n    removeEvents() {\n      this.eventBinded = false;\n      this.handleEventDebounce.clear();\n\n      window.removeEventListener('resize', this.handleEventDebounce);\n      this.removeScrollEvent();\n\n      this.sidebar.removeEventListener('update' + EVENT_KEY, this.handleEvent);\n\n      if (StickySidebar.supportResizeObserver()) {\n        this.resizeObserver.unobserve(this.sidebarInner);\n        this.resizeObserver.unobserve(this.container);\n      } else {\n        if (this.options.resizeSensor && 'undefined' !== typeof ResizeSensor) {\n          ResizeSensor.detach(this.sidebarInner, this.handleEventDebounce);\n          ResizeSensor.detach(this.container, this.handleEventDebounce);\n        }\n      }\n    }\n\n\n    addScrollEvent() {\n      if (!this.isScrollEventAdded) {\n        window.addEventListener('scroll', this.handleEvent, {passive: true, capture: false});\n        this.isScrollEventAdded = true;\n      }\n    }\n\n    removeScrollEvent() {\n      if (!!this.isScrollEventAdded) {\n        window.removeEventListener('scroll', this.handleEvent, {capture: false});\n        this.isScrollEventAdded = false;\n      }\n    }\n\n    /**\n     * Handles all events of the plugin.\n     * @param {Object} event - Event object passed from listener.\n     */\n    handleEvent(event) {\n      this.updateSticky(event);\n    }\n\n    /**\n     * Calculates dimensions of sidebar, container and screen viewpoint\n     * @public\n     */\n    calcDimensions() {\n      if (this._breakpoint) {\n        return;\n      }\n      var dims = this.dimensions;\n      this.resetStyles();\n\n      // Container of sticky sidebar dimensions.\n      dims.containerTop = StickySidebar.offsetRelative(this.container).top;\n      dims.containerHeight = this.container.clientHeight;\n      dims.containerInnerHeight = parseInt(window.getComputedStyle(this.container).height, 10);\n      dims.containerBottom = dims.containerTop + dims.containerHeight;\n\n      // Sidebar dimensions.\n      dims.sidebarTop = StickySidebar.offsetRelative(this.sidebarInner).top;\n      dims.sidebarHeight = this.sidebarInner.offsetHeight;\n      dims.sidebarWidth = this.sidebarInner.offsetWidth;\n\n      // Screen viewport dimensions.\n      dims.viewportHeight = window.innerHeight;\n\n      // Maximum sidebar translate Y.\n      dims.maxTranslateY = dims.containerHeight - dims.sidebarHeight;\n\n      this._calcDimensionsWithScroll();\n    }\n\n    /**\n     * Some dimensions values need to be up-to-date when scrolling the page.\n     * @private\n     */\n    _calcDimensionsWithScroll() {\n      var dims = this.dimensions;\n      if (dims.containerInnerHeight === dims.sidebarHeight) {\n        return;\n      }\n\n      dims.sidebarLeft = StickySidebar.offsetRelative(this.sidebar).left;\n\n      dims.viewportTop = document.documentElement.scrollTop || document.body.scrollTop;\n      dims.viewportBottom = dims.viewportTop + dims.viewportHeight;\n      dims.viewportLeft = document.documentElement.scrollLeft || document.body.scrollLeft;\n\n      dims.topSpacing = this.options.topSpacing;\n      dims.bottomSpacing = this.options.bottomSpacing;\n\n      if ('function' === typeof dims.topSpacing) {\n        dims.topSpacing = parseInt(dims.topSpacing(this.sidebar)) || 0;\n      }\n\n      if ('function' === typeof dims.bottomSpacing) {\n        dims.bottomSpacing = parseInt(dims.bottomSpacing(this.sidebar)) || 0;\n      }\n\n      if ('VIEWPORT-TOP' === this.affixedType) {\n        // Adjust translate Y in the case decrease top spacing value.\n        if (dims.topSpacing < dims.lastTopSpacing) {\n          dims.translateY += dims.lastTopSpacing - dims.topSpacing;\n          this._reStyle = true;\n        }\n      } else if ('VIEWPORT-BOTTOM' === this.affixedType) {\n        // Adjust translate Y in the case decrease bottom spacing value.\n        if (dims.bottomSpacing < dims.lastBottomSpacing) {\n          dims.translateY += dims.lastBottomSpacing - dims.bottomSpacing;\n          this._reStyle = true;\n        }\n      }\n\n      dims.lastTopSpacing = dims.topSpacing;\n      dims.lastBottomSpacing = dims.bottomSpacing;\n    }\n\n    /**\n     * Determine whether the sidebar is bigger than viewport.\n     * @public\n     * @return {Boolean}\n     */\n    isSidebarFitsViewport() {\n      let dims = this.dimensions;\n      let offset = this.scrollDirection === 'down' ? dims.lastBottomSpacing : dims.lastTopSpacing;\n      return this.dimensions.sidebarHeight + offset < this.dimensions.viewportHeight;\n    }\n\n    /**\n     * Observe browser scrolling direction top and down.\n     */\n    observeScrollDir() {\n      var dims = this.dimensions;\n      if (dims.lastViewportTop === dims.viewportTop) {\n        return;\n      }\n\n      var furthest = 'down' === this.direction ? Math.min : Math.max;\n\n      // If the browser is scrolling not in the same direction.\n      if (dims.viewportTop === furthest(dims.viewportTop, dims.lastViewportTop)) {\n        this.direction = 'down' === this.direction ? 'up' : 'down';\n      }\n    }\n\n    /**\n     * Gets affix type of sidebar according to current scroll top and scrolling direction.\n     * @public\n     * @return {String|false} - Proper affix type.\n     */\n    getAffixType(force = false) {\n      this._calcDimensionsWithScroll();\n      var dims = this.dimensions;\n      var colliderTop = dims.viewportTop + dims.topSpacing;\n      var affixType = this.affixedType;\n\n      if (colliderTop <= dims.sidebarTop || dims.containerHeight <= dims.sidebarHeight) {\n        dims.translateY = 0;\n        affixType = 'STATIC';\n      } else if (force) {\n        affixType = this._getAffixTypeScrollingDown();\n      } else {\n        affixType = ('up' === this.direction) ?\n          this._getAffixTypeScrollingUp() : this._getAffixTypeScrollingDown();\n      }\n\n      // Make sure the translate Y is not bigger than container height.\n      dims.translateY = Math.max(0, dims.translateY);\n      dims.translateY = Math.min(dims.containerHeight, dims.translateY);\n      dims.translateY = Math.round(dims.translateY);\n\n      dims.lastViewportTop = dims.viewportTop;\n\n      return affixType;\n    }\n\n    /**\n     * Get affix type while scrolling down.\n     * @private\n     * @return {String} - Proper affix type of scrolling down direction.\n     */\n    _getAffixTypeScrollingDown() {\n      var dims = this.dimensions;\n      var sidebarBottom = dims.sidebarHeight + dims.sidebarTop;\n      var colliderTop = dims.viewportTop + dims.topSpacing;\n      var colliderBottom = dims.viewportBottom - dims.bottomSpacing;\n      var affixType = this.affixedType;\n\n      if (this.isSidebarFitsViewport()) {\n        if (dims.sidebarHeight + colliderTop >= dims.containerBottom) {\n          dims.translateY = dims.containerBottom - sidebarBottom;\n          affixType = 'CONTAINER-BOTTOM';\n        } else if (colliderTop >= dims.sidebarTop) {\n          dims.translateY = colliderTop - dims.sidebarTop;\n          affixType = 'VIEWPORT-TOP';\n        }\n      } else {\n        if (dims.containerBottom <= colliderBottom) {\n          dims.translateY = dims.containerBottom - sidebarBottom;\n          affixType = 'CONTAINER-BOTTOM';\n        } else if (sidebarBottom + dims.translateY <= colliderBottom) {\n          dims.translateY = colliderBottom - sidebarBottom;\n          affixType = 'VIEWPORT-BOTTOM';\n        } else if (dims.sidebarTop + dims.translateY <= colliderTop &&\n          (0 !== dims.translateY && dims.maxTranslateY !== dims.translateY)) {\n          affixType = 'VIEWPORT-UNBOTTOM';\n        }\n      }\n\n      return affixType;\n    }\n\n    /**\n     * Get affix type while scrolling up.\n     * @private\n     * @return {String} - Proper affix type of scrolling up direction.\n     */\n    _getAffixTypeScrollingUp() {\n      var dims = this.dimensions;\n      var sidebarBottom = dims.sidebarHeight + dims.sidebarTop;\n      var colliderTop = dims.viewportTop + dims.topSpacing;\n      var colliderBottom = dims.viewportBottom - dims.bottomSpacing;\n      var affixType = this.affixedType;\n\n      if (colliderTop <= dims.translateY + dims.sidebarTop) {\n        dims.translateY = colliderTop - dims.sidebarTop;\n        affixType = 'VIEWPORT-TOP';\n      } else if (dims.containerBottom <= colliderBottom) {\n        dims.translateY = dims.containerBottom - sidebarBottom;\n        affixType = 'CONTAINER-BOTTOM';\n      } else if (!this.isSidebarFitsViewport()) {\n        if (dims.sidebarTop <= colliderTop &&\n          (0 !== dims.translateY && dims.maxTranslateY !== dims.translateY)) {\n          affixType = 'VIEWPORT-UNBOTTOM';\n        }\n      }\n\n      return affixType;\n    }\n\n    /**\n     * Gets inline style of sticky sidebar wrapper and inner wrapper according\n     * to its affix type.\n     * @private\n     * @param {String} affixType - Affix type of sticky sidebar.\n     * @return {Object}\n     */\n    _getStyle(affixType) {\n      if ('undefined' === typeof affixType) {\n        return;\n      }\n\n      var style = {inner: {}, outer: {}};\n      var dims = this.dimensions;\n\n      switch (affixType) {\n        case 'VIEWPORT-TOP':\n          style.inner = {\n            position: 'fixed', top: dims.topSpacing,\n            left: dims.sidebarLeft - dims.viewportLeft, width: dims.sidebarWidth,\n          };\n          break;\n        case 'VIEWPORT-BOTTOM':\n          style.inner = {\n            position: 'fixed', top: 'auto', left: dims.sidebarLeft,\n            bottom: dims.bottomSpacing, width: dims.sidebarWidth,\n          };\n          break;\n        case 'CONTAINER-BOTTOM':\n        case 'VIEWPORT-UNBOTTOM':\n          const translate = this._getTranslate(0, dims.translateY + 'px');\n          if (translate) {\n            style.inner = {transform: translate};\n          } else {\n            style.inner = {position: 'absolute', top: dims.translateY, width: dims.sidebarWidth};\n          }\n          break;\n      }\n\n      switch (affixType) {\n        case 'VIEWPORT-TOP':\n        case 'VIEWPORT-BOTTOM':\n        case 'VIEWPORT-UNBOTTOM':\n        case 'CONTAINER-BOTTOM':\n          style.outer = {height: dims.sidebarHeight, position: 'relative'};\n          break;\n      }\n\n      style.outer = StickySidebar.extend({height: '', position: ''}, style.outer);\n      style.inner = StickySidebar.extend({\n        position: 'relative', top: '', left: '',\n        bottom: '', width: '', transform: '',\n      }, style.inner);\n\n      return style;\n    }\n\n    /**\n     * Cause the sidebar to be sticky according to affix type by adding inline\n     * style, adding helper class and trigger events.\n     * @function\n     * @protected\n     * @param {String|false} force - Update sticky sidebar position by force.\n     */\n    stickyPosition(force = false) {\n      var dims = this.dimensions;\n      if (this._breakpoint) {\n        return;\n      }\n      if (dims.containerInnerHeight <= dims.sidebarHeight) {\n        this.removeScrollEvent();\n        return;\n      } else {\n        this.addScrollEvent();\n      }\n\n      force = this._reStyle || force || false;\n\n      var offsetTop = this.options.topSpacing;\n      var offsetBottom = this.options.bottomSpacing;\n\n      var affixType = this.getAffixType(force);\n      var style = this._getStyle(affixType);\n\n      if ((this.affixedType !== affixType || force) && affixType) {\n        let affixEvent = 'affix.' + affixType.toLowerCase().replace('viewport-', '') + EVENT_KEY;\n        StickySidebar.eventTrigger(this.sidebar, affixEvent);\n\n        if ('STATIC' === affixType)\n          StickySidebar.removeClass(this.sidebar, this.options.stickyClass);\n        else\n          StickySidebar.addClass(this.sidebar, this.options.stickyClass);\n\n        for (let key in style.outer) {\n          let unit = ('number' === typeof style.outer[key]) ? 'px' : '';\n          this.sidebar.style[key] = style.outer[key] + unit;\n        }\n\n        for (let key in style.inner) {\n          let unit = ('number' === typeof style.inner[key]) ? 'px' : '';\n          this.sidebarInner.style[key] = style.inner[key] + unit;\n        }\n\n        let affixedEvent = 'affixed.' + affixType.toLowerCase().replace('viewport-', '') + EVENT_KEY;\n        StickySidebar.eventTrigger(this.sidebar, affixedEvent);\n      } else if (this._initialized) {\n        this.sidebarInner.style.left = style.inner.left;\n      }\n\n      this.affixedType = affixType;\n    }\n\n    /**\n     * Breakdown sticky sidebar when window width is below `options.minWidth` value.\n     * @protected\n     */\n    _widthBreakpoint() {\n      if (window.innerWidth <= this.options.minWidth) {\n        this._breakpoint = true;\n        this.affixedType = 'STATIC';\n\n        this.sidebar.removeAttribute('style');\n        StickySidebar.removeClass(this.sidebar, this.options.stickyClass);\n        this.sidebarInner.removeAttribute('style');\n      } else {\n        this._breakpoint = false;\n      }\n    }\n\n    /**\n     * Switches between functions stack for each event type, if there's no\n     * event, it will re-initialize sticky sidebar.\n     * @public\n     */\n    updateSticky(event = {type: 'resize'}) {\n      if (!this._enabled || this._running) {\n        return;\n      }\n      this._running = true;\n\n      ((eventType) => {\n        requestAnimationFrame(() => {\n          if (!this._enabled) {\n            this._running = false;\n            return;\n          }\n          switch (eventType) {\n            // When browser is scrolling and re-calculate just dimensions\n            // within scroll.\n            case 'scroll':\n              this._calcDimensionsWithScroll();\n              this.observeScrollDir();\n              this.stickyPosition();\n              break;\n\n            // When browser is resizing or there's no event, observe width\n            // breakpoint and re-calculate dimensions.\n            case 'resize':\n            default:\n              this._widthBreakpoint();\n              this.calcDimensions();\n              this.stickyPosition(true);\n              this.bindEvents();\n              break;\n          }\n          this._running = false;\n        });\n      })(event.type);\n    }\n\n    /**\n     * Set browser support features to the public property.\n     * @private\n     */\n    _setSupportFeatures() {\n      var support = this.support;\n\n      support.transform = StickySidebar.supportTransform();\n      // support.transform3d = StickySidebar.supportTransform(true);\n    }\n\n    /**\n     * Get translate value, if the browser supports transfrom3d, it will adopt it.\n     * and the same with translate. if browser doesn't support both return false.\n     * @param {Number} y - Value of Y-axis.\n     * @param {Number} x - Value of X-axis.\n     * @return {String|false}\n     */\n    _getTranslate(y = 0, x = 0) {\n      // if( this.support.transform3d ) return 'translate3d(' + y +', '+ x +', '+ z +')';\n      // else\n      if (this.support.transform) {\n        return 'translate(' + y + ', ' + x + ')';\n      } else {\n        return false;\n      }\n    }\n\n    /**\n     * Rstart sticky sidebar plugin.\n     * @public\n     */\n    restart() {\n      this._enabled = true;\n      this.updateSticky();\n    }\n\n    /**\n     * Destroy sticky sidebar plugin.\n     * @public\n     */\n    destroy() {\n      this._enabled = false;\n\n      this.sidebar.classList.remove(this.options.stickyClass);\n      this.sidebar.style.minHeight = '';\n      this.resetStyles();\n      this.removeEvents();\n    }\n\n    resetStyles() {\n      var styleReset = {inner: {}, outer: {}};\n\n      styleReset.inner = {position: '', top: '', left: '', bottom: '', width: '', transform: ''};\n      styleReset.outer = {height: '', position: ''};\n\n      for (let key in styleReset.outer)\n        this.sidebar.style[key] = styleReset.outer[key];\n\n      for (let key in styleReset.inner)\n        this.sidebarInner.style[key] = styleReset.inner[key];\n    }\n\n    /**\n     * Determine if the browser supports CSS transform feature.\n     * @function\n     * @static\n     * @param {Boolean} transform3d - Detect transform with translate3d.\n     * @return {String}\n     */\n    static supportTransform(transform3d) {\n      var result = false,\n        property = (transform3d) ? 'perspective' : 'transform',\n        upper = property.charAt(0).toUpperCase() + property.slice(1),\n        prefixes = ['Webkit', 'Moz', 'O', 'ms'],\n        support = document.createElement('support'),\n        style = support.style;\n\n      (property + ' ' + prefixes.join(upper + ' ') + upper).split(' ').forEach(function (property, i) {\n        if (!result && style[property] !== undefined) {\n          result = property;\n        }\n      });\n      return result;\n    }\n\n    static supportResizeObserver() {\n      return 'ResizeObserver' in window;\n    }\n\n    /**\n     * Trigger custom event.\n     * @static\n     * @param {DOMObject} element - Target element on the DOM.\n     * @param {String} eventName - Event name.\n     * @param {Object} data -\n     */\n    static eventTrigger(element, eventName, data) {\n      try {\n        var event = new CustomEvent(eventName, {detail: data});\n      } catch (e) {\n        var event = document.createEvent('CustomEvent');\n        event.initCustomEvent(eventName, true, true, data);\n      }\n      element.dispatchEvent(event);\n    }\n\n    /**\n     * Extend options object with defaults.\n     * @function\n     * @static\n     */\n    static extend(defaults, options) {\n      var results = {};\n      for (let key in defaults) {\n        if ('undefined' !== typeof options[key]) {\n          results[key] = options[key];\n        } else {\n          results[key] = defaults[key];\n        }\n      }\n      return results;\n    }\n\n    /**\n     * Get current coordinates left and top of specific element.\n     * @static\n     */\n    static offsetRelative(element) {\n      const rect = element.getBoundingClientRect();\n      const documentElement = document.documentElement;\n      const top = rect.top + window.pageYOffset - documentElement.clientTop;\n      const left = rect.left + window.pageXOffset - documentElement.clientLeft;\n      return {top: top, left: left};\n    }\n\n    /**\n     * Add specific class name to specific element.\n     * @static\n     * @param {ObjectDOM} element\n     * @param {String} className\n     */\n    static addClass(element, className) {\n      if (!StickySidebar.hasClass(element, className)) {\n        if (element.classList) {\n          element.classList.add(className);\n        } else {\n          element.className += ' ' + className;\n        }\n      }\n    }\n\n    /**\n     * Remove specific class name to specific element\n     * @static\n     * @param {ObjectDOM} element\n     * @param {String} className\n     */\n    static removeClass(element, className) {\n      if (StickySidebar.hasClass(element, className)) {\n        if (element.classList) {\n          element.classList.remove(className);\n        } else {\n          element.className = element.className.replace(new RegExp('(^|\\\\b)' + className.split(' ').join('|') + '(\\\\b|$)', 'gi'), ' ');\n        }\n      }\n    }\n\n    /**\n     * Determine weather the element has specific class name.\n     * @static\n     * @param {ObjectDOM} element\n     * @param {String} className\n     */\n    static hasClass(element, className) {\n      if (element.classList)\n        return element.classList.contains(className);\n      else\n        return new RegExp('(^| )' + className + '( |$)', 'gi').test(element.className);\n    }\n\n    /**\n     * Gets default values of configuration options.\n     * @static\n     * @return {Object}\n     */\n    static get defaults() {\n      return DEFAULTS;\n    }\n  }\n\n  return StickySidebar;\n})();\n\nexport default StickySidebar;\n\n// Global\n// -------------------------\nwindow.StickySidebar = StickySidebar;\n"],"names":["StickySidebar","EVENT_KEY","DEFAULTS","sidebar","options","extend","document","querySelector","Error","sidebarInner","container","parentElement","affixedType","direction","support","_initialized","_reStyle","_breakpoint","dimensions","handleEvent","bind","handleEventDebounce","supportResizeObserver","resizeObserver","ResizeObserver","initialize","_setSupportFeatures","innerWrapper","wrapper","createElement","setAttribute","appendChild","firstChild","containers","querySelectorAll","Array","prototype","slice","call","forEach","contains","length","topSpacing","parseInt","bottomSpacing","_widthBreakpoint","calcDimensions","stickyPosition","bindEvents","_enabled","eventBinded","addEventListener","passive","capture","addScrollEvent","observe","resizeSensor","ResizeSensor","clear","removeEventListener","removeScrollEvent","unobserve","detach","isScrollEventAdded","event","updateSticky","dims","resetStyles","containerTop","offsetRelative","top","containerHeight","clientHeight","containerInnerHeight","window","getComputedStyle","height","containerBottom","sidebarTop","sidebarHeight","offsetHeight","sidebarWidth","offsetWidth","viewportHeight","innerHeight","maxTranslateY","_calcDimensionsWithScroll","sidebarLeft","left","viewportTop","documentElement","scrollTop","body","viewportBottom","viewportLeft","scrollLeft","lastTopSpacing","translateY","lastBottomSpacing","offset","scrollDirection","lastViewportTop","furthest","Math","min","max","force","colliderTop","affixType","_getAffixTypeScrollingDown","_getAffixTypeScrollingUp","round","sidebarBottom","colliderBottom","isSidebarFitsViewport","style","inner","outer","width","translate","_getTranslate","transform","position","offsetTop","offsetBottom","getAffixType","_getStyle","affixEvent","toLowerCase","replace","eventTrigger","removeClass","stickyClass","addClass","key","unit","affixedEvent","innerWidth","minWidth","removeAttribute","type","_running","eventType","observeScrollDir","supportTransform","y","x","classList","remove","minHeight","removeEvents","styleReset","bottom","transform3d","result","property","upper","charAt","toUpperCase","prefixes","join","split","i","undefined","element","eventName","data","CustomEvent","detail","e","createEvent","initCustomEvent","dispatchEvent","defaults","results","rect","getBoundingClientRect","pageYOffset","clientTop","pageXOffset","clientLeft","className","hasClass","add","RegExp","test"],"mappings":"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"}